@model GetaSocialChannelsViewModel

@{ Layout = "~/Views/Shared/Layouts/_LeftNavigation.cshtml"; }

<h1 @Html.EditAttributes(x => x.CurrentPage.PageName)>@Model.CurrentPage.PageName</h1>
<p class="introduction" @Html.EditAttributes(x => x.CurrentPage.MetaDescription)>@Model.CurrentPage.MetaDescription</p>
<div class="row">
    <div class="span8 clearfix ">
        @if (Model.ShowYoutubeFeed)
        {
            <h3>Youtube channel feed - @Model.YoutubeFeed.Data.Count items found</h3>
            <ul>
                @foreach (var youtubeFeedItem in Model.YoutubeFeed.Data)
                {
                    <li><a href="@youtubeFeedItem.VideoUrl">@youtubeFeedItem.Title</a></li>
                }
            </ul>
        }

        @if (Model.ShowFacebookFeed)
        {
            if (Model.FacebookFeed != null && Model.FacebookFeed.Data != null)
            {
                <h3>Facebook channel feed - @Model.FacebookFeed.Data.Count items found</h3>

                foreach (var facebookFeedItem in Model.FacebookFeed.Data)
                {
                    <div>@facebookFeedItem.From.Name : @facebookFeedItem.Message</div>
                }

            }
        }

        @if (Model.TwitterResponse != null && Model.TwitterResponse.Success)
        {
            <h3>Twitter channel feed - @Model.TwitterResponse.Tweets.Count tweets found</h3>
            foreach (var twitterItem in Model.TwitterResponse.Tweets)
            {
                <div>@twitterItem.Text</div>
            }
        }

        @if (Model.LinkedInResponse != null && Model.LinkedInResponse.Status == System.Threading.Tasks.TaskStatus.RanToCompletion)
        {
            <h3>LinkedIn channel feed - @Model.LinkedInResponse.Result.Count items found</h3>
            foreach (var companyFeed in Model.LinkedInResponse.Result.Values)
            {
                <div>@companyFeed.UpdateContent.CompanyStatusUpdate.Share.Comment</div>
            }
        }

    </div>
</div>

